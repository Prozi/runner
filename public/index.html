<!doctype html>
<html>
  <head>
    <title>Socket.IO Simplest Front End Example For Demonstration of Socket-Starter</title>
  </head>
  <body>
    <ul id="messages"></ul>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
    <script>
      (function () {
        var APP_NAME = 'chat';
        var socket = io('http://localhost:3000');
        var messages = document.getElementById('messages');
        function addMessage (message) {
          messages.innerHTML += '<li>' + message + '</li>';
        }
        socket.on('connect', function (data) {
          console.log('connected', data);
          socket.on('handshaken:' + APP_NAME, function (data) {
            addMessage('handshaken:' + JSON.stringify(data, null, 2));
          });
          socket.on('joined', function (data) {
            addMessage('joined:' + JSON.stringify(data, null, 2));
          });
          socket.emit('handshake:' + APP_NAME, { example: 'data for server' });
        });
      })();
    </script>
  </body>
</html>